{% extends 'website/templates/base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block content %}
    <h4>
        <span class="glyphicon glyphicon-pencil">
        </span> Create a new question . . .
    </h4>
    <hr>
    <form role="form" action="" method="POST">{% csrf_token %}
    {% with WIDGET_ERROR_CLASS='field_error' %}

    <p>
    Please enter the tutorial details.
        <img id="ajax-loader" src="{% static 'website/images/ajax-loader.gif' %}" style="display:none;">
    </p>
    <div class="row">
        <div class="col-lg-3 col-md-3 col-sm-3">
            {% render_field form.category class+="form-control"%} 
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
                {% render_field form.tutorial class+="form-control" %}
                
        </div>
        <div class="col-lg-2 col-md-2 col-sm-2">
            {% render_field form.minute_range class+="form-control" %} 
        </div>
        <div class="col-lg-2 col-md-2 col-sm-2">
            {% render_field form.second_range class+="form-control" %} 
        </div>
        <div class="col-lg-2 col-md-2 col-sm-2">
            <small><strong>
            <a id="similar-link" data-toggle="modal" data-target="#similarModal" href="#">
                0 similar questions
            </a>
            </strong></small>
        </div>
    </div>
    <hr>

    <p>Please enter your question details.</p>
    <div class="row">
        <div class="col-lg-12">
            <div class="form-group">
                {% if help %}
                <div class="alert" style="background-color: #7f8c8d;color: white;font-size: 95%;font-family: sans serif;font-weight: 400;">
                    {{ help }}
                    {% if title %}
                    <input class="btn btn-success" style="margin-left:20px;" type="submit" name="action" value="Yes">
                    <a href="/"><button class="btn btn-danger" style="margin-left:20px;" type="button">No</button></a>
                    {% elif title2 %}
                    <input class="btn btn-success" style="margin-left:20px;" type="submit" name="action" value="Send for review">                    
                    {% endif %}
                </div>
                {% endif %}
                <label for="id_title">Title:</label>
                {% render_field form.title class+="form-control" %} 
            </div>
            <div class="form-group">
                <label for="id_body">Question:</label>
                {% render_field form.body class+="form-control" %}
            </div>
        </div>
    </div>
    <input class="btn btn-success" type="submit" value="Submit Question" name="action"> 
    {% endwith %}
    </form>

    <!-- Modal -->
    <div class="modal fade" id="similarModal" tabindex="-1" role="dialog" aria-labelledby="similarModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Similar Questions</h4>
          </div>
          <div class="modal-body" id="modal-body">
            ...
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

<script src="{% static 'website/js/nicEdit.js' %}" type="text/javascript"></script>
<script type="text/javascript">
bkLib.onDomLoaded(function() {
	new nicEditor({
        iconsPath: "{% static 'website/js/nicEditorIcons.gif' %}",
        buttonList : ['fontSize','bold','italic','underline','strikeThrough','subscript','superscript','html','image', 'link', 'forecolor', 'bgcolor']
    }).panelInstance('id_body');
});

$tutorial =$("#id_tutorial");
$tutorial.html("<option value='General' selected=true>General</option>");
$minute_range=$("#id_minute_range");
$minute_range.html("<option value='None' selected=true>Not necessary</option>");
$second_range=$("#id_second_range");
$second_range.html("<option value='None' selected=true>Not necessary</option>");

{% if body and title %}
        $('#id_body').val("{{ body }}");

        $('#id_title').val("{{ title }}");
{% endif %}

</script>


{% endblock %}

